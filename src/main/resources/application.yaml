spring:
  application:
    name: srs-nemi-tool
  main:
    allow-bean-definition-overriding: true
  datasource:
    # Railway Environment Variables
    # DATABASE_URL: jdbc:postgresql://...
    # Sử dụng biến môi trường có sẵn của Railway để ghép thành JDBC URL
    # Fallback về localhost cho môi trường dev
    # Production: Dùng Internal Network (PGHOST...)
    # Local: Set PGHOST=public_host trong IDE hoặc fallback về localhost
#    url: jdbc:postgresql://${PGHOST:localhost}:${PGPORT:5432}/${PGDATABASE:adg_core}
#    username: ${PGUSER:admin}
#    password: ${PGPASSWORD:admin123}
#    driver-class-name: org.postgresql.Driver
      url: jdbc:postgresql://localhost:5432/adg_core
      username: admin
      password: admin123
      driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    open-in-view: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        # Dùng schema public để chia sẻ với Python backend
        default_schema: public

jwt:
  # Cần set biến môi trường JWT_SECRET trên server
  secret: ${JWT_SECRET:mySecretKeyThatIsLongEnoughForJWT256BitsSecurityRequirements123456789}
  expirationMs: 86400000

# File Upload Configuration
upload:
  checker-path: ./uploads/checkers
  vulnbox-path: ./uploads/vulnbox

# Python Game Server Configuration
python:
  server-url: http://localhost:8000